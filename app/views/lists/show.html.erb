<div class="index-header">
  <h3>
    <%= @list.name %>
    <%= render "components/modal", path: list_path(@list) %>
    <%= link_to edit_list_path(@list) do %>
      <i class="far fa-edit fa-xs" style="font-size: 1rem;"></i>
    <% end %>
  </h3>
  <div>
    <% if @list.movies.empty? %>
      <%= link_to "Back", lists_path, class: "btn btn-secondary" %>
    <% else %>
      <%= link_to "Add Movie", new_list_bookmark_path(@list), class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
<% if @list.movies.empty? %>
  <div class="d-flex justify-content-center align-items-end" style="color: white; opacity: 0.7; height: 150px;">
  <h4><em>No Bookmarks yet（；´д｀）ゞ</em></h4>
</div>
<div class="d-flex justify-content-center mt-3">
  <%= link_to "Add Movies", new_list_bookmark_path(@list), class: "btn btn-primary" %>
</div>
<% end %>

<div class="show-cards">
  <% @list.movies.each do |movie| %>
  <% bookmark = Bookmark.find_by(list: @list, movie: movie) %>
    <div class="card mb-3 bg-dark d-flex" style="max-width: 589px;">
      <div class="row g-0">
        <div class="col-md-4">
          <%= image_tag movie.poster_url, class:"img-fluid" %>
        </div>
          <div class="col-md-8">
            <div class="card-body py-0 pt-3 d-flex flex-column justify-content-between">
              <div>
                <h5 class="card-title"><%= movie.title %></h5>
                <% movie.rating.times do %> 
                 <i class="fas fa-star" style="color: #F5C518;"></i>
                <% end %>
                <p class="card-text mt-2"><%= movie.shorten_overview %>...Read more</p>
              </div>
                <div class="d-flex justify-content-between">
                  <p class="card-text"><small>
                    <i class="fas fa-quote-left"></i>
                    <em style="opacity: 0.8;"><%= bookmark.comment %></em>
                  </small><p>
                  <%= render "components/movieModalButton", movie: movie.id, path: bookmark_path(bookmark.id) %>
                </div>

           </div>
          </div>
      </div>
    </div>
  <% end %>
</div>
